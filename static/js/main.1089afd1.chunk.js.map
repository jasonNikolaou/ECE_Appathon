{"version":3,"sources":["Home/Home.js","helpFunctions/savedStations.js","helpFunctions/haversine_distance.js","helpFunctions/changeStationName.js","helpFunctions/filterNotRaining.js","helpFunctions/sortStations.js","helpFunctions/getStationsFromDeviceIds.js","helpFunctions/sortStationsByName.js","helpFunctions/getImageName.js","AccessibleStations/AccessibleStations.js","Stations/Stations.js","App.js","serviceWorker.js","index.js"],"names":["Home","handleClickStation","handleClickAccessibleStations","error","className","Button","variant","onClick","savedStations","haversine_distance","mk1","mk2","rlat1","parseFloat","Math","PI","rlat2","difflat","difflon","asin","sqrt","sin","cos","changeStationName","stations","map","station","newName","replace","filterNotRaining","filter","sortStations","location","sort","st1","st2","pos1","lat","lon","pos2","dist1","dist2","getStationsFromDeviceIds","device_ids","AccessibleStations","st","id","includes","push","sortStationsByName","name1","name2","getImageName","weatherID","console","log","props","state","sortedStations","accessibleStations","loading","handleClickFilterStations","bind","handleClickViewStations","this","alert","setState","fetch","traj_ids_json","json","traj_ids","onlyTraj_ids","traj_id","Promise","all","itravel_ids_json","itravel_ids","flatMap","itravel_ids_arr","handleClickBack","key","Spinner","animation","React","Component","Stations","viewStations","name","weather","weatherDescription","temperature","img","alt","src","width","height","App","mode","navigator","geolocation","getCurrentPosition","res","coords","latitude","longitude","stationsJSON","stations_","weatherJSON","stationsWithWeather","w","i","Boolean","window","hostname","match","ReactDOM","render","StrictMode","document","getElementById","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.1089afd1.chunk.js","sourcesContent":["import React from 'react';\nimport Button from 'react-bootstrap/Button';\n\nconst Home = ({handleClickStation, handleClickAccessibleStations, error}) => {\n  return (\n    <div className=\"home mx-auto\">\n      <p> This is an application developed for the course:</p>\n      <p><b>Internet and Applications</b>, NTUA ECE</p>\n\n      <p>Press <b>Not raining</b> to view the stations without rain.</p>\n      <p>Press <b>Weather</b> to view the weather conditions in every station.</p>\n\n      <Button className=\"home-button\" variant=\"outline-primary\" onClick={handleClickAccessibleStations}>\n        Not raining\n      </Button>\n      <br/>\n      <Button className=\"home-button\" variant=\"outline-primary\" onClick={handleClickStation}>\n        Weather\n      </Button>\n      { error === true\n        ?\n        <div>\n          <p> <b>Error</b>: Cannot fetch data...</p>\n          <p> We are sorry. Try again later. </p>\n        </div>\n        :\n        ''\n      }\n    </div>\n  )\n}\n\nexport default Home\n","const savedStations = [\n    {\n        \"device_id\": \"11\",\n        \"device_Name\": \"iTravel-1-Lagada\",\n        \"lat\": \"40.6474504131169920\",\n        \"lon\": \"22.9352212691169370\"\n    },\n    {\n        \"device_id\": \"12\",\n        \"device_Name\": \"iTravel-1-V. Olgas\",\n        \"lat\": \"40.6150064974067820\",\n        \"lon\": \"22.9541949287744270\"\n    },\n    {\n        \"device_id\": \"13\",\n        \"device_Name\": \"iTravel-1-LefkosPyrgos\",\n        \"lat\": \"40.6262911753818730\",\n        \"lon\": \"22.9489932096469150\"\n    },\n    {\n        \"device_id\": \"14\",\n        \"device_Name\": \"iTravel-1-YMCA\",\n        \"lat\": \"40.6262145694257060\",\n        \"lon\": \"22.9532791176056890\"\n    },\n    {\n        \"device_id\": \"15\",\n        \"device_Name\": \"iTravel-1-K. Karamanli\",\n        \"lat\": \"40.6113924511909450\",\n        \"lon\": \"22.9634620090564570\"\n    },\n    {\n        \"device_id\": \"17\",\n        \"device_Name\": \"iTravel-1-Dimokratias Sq.\",\n        \"lat\": \"40.6400262325646930\",\n        \"lon\": \"22.9361225991203810\"\n    },\n    {\n        \"device_id\": \"18\",\n        \"device_Name\": \"iTravel-1-Evagelistria\",\n        \"lat\": \"40.6343644525075620\",\n        \"lon\": \"22.9565020750901570\"\n    },\n    {\n        \"device_id\": \"19\",\n        \"device_Name\": \"iTravel-1-D. Isodos\",\n        \"lat\": \"40.6459148318784220\",\n        \"lon\": \"22.9176903447571480\"\n    },\n    {\n        \"device_id\": \"20\",\n        \"device_Name\": \"iTravel-1-Monastiriou\",\n        \"lat\": \"40.6558260774822530\",\n        \"lon\": \"22.9041176950632920\"\n    },\n    {\n        \"device_id\": \"21\",\n        \"device_Name\": \"iTravel-21-St. Kazantzidi\",\n        \"lat\": \"40.5737487731048890\",\n        \"lon\": \"22.9906071424238690\"\n    },\n    {\n        \"device_id\": \"22\",\n        \"device_Name\": \"iTravel-22-Moudanion Highway\",\n        \"lat\": \"40.5693434245466160\",\n        \"lon\": \"22.9862803705026410\"\n    },\n    {\n        \"device_id\": \"23\",\n        \"device_Name\": \"iTravel-23-G. Sxolis Ave.\",\n        \"lat\": \"40.5677460384070440\",\n        \"lon\": \"22.9746844097849130\"\n    },\n    {\n        \"device_id\": \"24\",\n        \"device_Name\": \"iTravel-24-Thermi\",\n        \"lat\": \"40.5529149127653170\",\n        \"lon\": \"23.0172994472127360\"\n    },\n    {\n        \"device_id\": \"25\",\n        \"device_Name\": \"iTravel-1-MarinaParking\",\n        \"lat\": \"35.1875934406409100\",\n        \"lon\": \"25.7163805686998330\"\n    },\n    {\n        \"device_id\": \"26\",\n        \"device_Name\": \"iTravel-1-Port\",\n        \"lat\": \"35.1911059999999980\",\n        \"lon\": \"25.7216510000000010\"\n    },\n    {\n        \"device_id\": \"27\",\n        \"device_Name\": \"iTravel-1-Police\",\n        \"lat\": \"35.1855927576740020\",\n        \"lon\": \"25.7067728251486190\"\n    },\n    {\n        \"device_id\": \"28\",\n        \"device_Name\": \"iTravel-1-MarinopoulosIntersection\",\n        \"lat\": \"35.1982292151556140\",\n        \"lon\": \"25.7088567277315860\"\n    },\n    {\n        \"device_id\": \"29\",\n        \"device_Name\": \"iTravel-1-AmmoudiBeach\",\n        \"lat\": \"35.1985354999999980\",\n        \"lon\": \"25.7121250000000000\"\n    },\n    {\n        \"device_id\": \"30\",\n        \"device_Name\": \"iTravel-1-Latous\",\n        \"lat\": \"35.1869226000000030\",\n        \"lon\": \"25.7125191999999990\"\n    },\n    {\n        \"device_id\": \"31\",\n        \"device_Name\": \"iTravel-31-Ag. Pavlos hospital\",\n        \"lat\": \"40.5763137554355710\",\n        \"lon\": \"22.9699537642341060\"\n    },\n    {\n        \"device_id\": \"32\",\n        \"device_Name\": \"iTravel-32-Panorama Interchange\",\n        \"lat\": \"40.5989177611491100\",\n        \"lon\": \"22.9970729090314310\"\n    },\n    {\n        \"device_id\": \"33\",\n        \"device_Name\": \"iTravel-33-Gr. Labraki\",\n        \"lat\": \"40.6114027686660390\",\n        \"lon\": \"22.9860750809189080\"\n    },\n    {\n        \"device_id\": \"34\",\n        \"device_Name\": \"iTravel-34-Lampraki&Kleanthous\",\n        \"lat\": \"40.6161870634187350\",\n        \"lon\": \"22.9732180126013640\"\n    },\n    {\n        \"device_id\": \"35\",\n        \"device_Name\": \"iTravel-35-City Center Interchange\",\n        \"lat\": \"40.6281548002886690\",\n        \"lon\": \"22.9771977402310770\"\n    },\n    {\n        \"device_id\": \"36\",\n        \"device_Name\": \"iTravel-36-Diavata\",\n        \"lat\": \"40.6953254527893120\",\n        \"lon\": \"22.8454167880158820\"\n    },\n    {\n        \"device_id\": \"37\",\n        \"device_Name\": \"iTravel-37-Kaftatzoglio\",\n        \"lat\": \"40.6220688984109230\",\n        \"lon\": \"22.9673265405040180\"\n    },\n    {\n        \"device_id\": \"38\",\n        \"device_Name\": \"iTravel-38-Eptapirgio Interchange\",\n        \"lat\": \"40.6441186230452090\",\n        \"lon\": \"22.9691832996945780\"\n    },\n    {\n        \"device_id\": \"39\",\n        \"device_Name\": \"iTravel-39-Neapoli Interchange\",\n        \"lat\": \"40.6596706712798120\",\n        \"lon\": \"22.9681942351152200\"\n    },\n    {\n        \"device_id\": \"40\",\n        \"device_Name\": \"iTravel-40-Papageorgiou Interchange\",\n        \"lat\": \"40.6791562325441020\",\n        \"lon\": \"22.9583545513696660\"\n    },\n    {\n        \"device_id\": \"41\",\n        \"device_Name\": \"iTravel-41-Stauroupoli Interchange\",\n        \"lat\": \"40.6774226390008590\",\n        \"lon\": \"22.9389474280219470\"\n    },\n    {\n        \"device_id\": \"42\",\n        \"device_Name\": \"iTravel-42-Neapoli\",\n        \"lat\": \"40.6574512794702090\",\n        \"lon\": \"22.9649789370637340\"\n    },\n    {\n        \"device_id\": \"43\",\n        \"device_Name\": \"iTravel-43-Ag. Therapondas\",\n        \"lat\": \"40.6095290320497500\",\n        \"lon\": \"22.9714112430974640\"\n    },\n    {\n        \"device_id\": \"44\",\n        \"device_Name\": \"iTravel-44-Stauroupoli City Hall\",\n        \"lat\": \"40.6624683325288740\",\n        \"lon\": \"22.9360030330758490\"\n    },\n    {\n        \"device_id\": \"45\",\n        \"device_Name\": \"iTravel-45-Ifestionos\",\n        \"lat\": \"40.6426813026083100\",\n        \"lon\": \"22.9391082599840960\"\n    },\n    {\n        \"device_id\": \"46\",\n        \"device_Name\": \"iTravel-46-Eleftherias Sq.\",\n        \"lat\": \"40.6340712024461300\",\n        \"lon\": \"22.9389004893641870\"\n    },\n    {\n        \"device_id\": \"47\",\n        \"device_Name\": \"iTravel-47-Bank of Greece\",\n        \"lat\": \"40.6351367708993790\",\n        \"lon\": \"22.9386463500600260\"\n    },\n    {\n        \"device_id\": \"48\",\n        \"device_Name\": \"iTravel-48-Dikastiria Intersection\",\n        \"lat\": \"40.6395031847470070\",\n        \"lon\": \"22.9308712966781060\"\n    },\n    {\n        \"device_id\": \"49\",\n        \"device_Name\": \"iTravel-49-Airport Intersection\",\n        \"lat\": \"40.5328818865633240\",\n        \"lon\": \"22.9939870275597970\"\n    },\n    {\n        \"device_id\": \"50\",\n        \"device_Name\": \"iTravel-50-Theagenio hospital\",\n        \"lat\": \"40.6183386046738590\",\n        \"lon\": \"22.9584866501431860\"\n    },\n    {\n        \"device_id\": \"51\",\n        \"device_Name\": \"iTravel-51-M. Botsari\",\n        \"lat\": \"40.6070110590993920\",\n        \"lon\": \"22.9511441029649180\"\n    },\n    {\n        \"device_id\": \"52\",\n        \"device_Name\": \"iTravel-52-Adrianoupoleos\",\n        \"lat\": \"40.5897521565682030\",\n        \"lon\": \"22.9545014575154480\"\n    },\n    {\n        \"device_id\": \"53\",\n        \"device_Name\": \"iTravel-53-V. Olgas\",\n        \"lat\": \"40.5945559242194350\",\n        \"lon\": \"22.9561717361048070\"\n    },\n    {\n        \"device_id\": \"54\",\n        \"device_Name\": \"iTravel-54-Martiou\",\n        \"lat\": \"40.6008483896048350\",\n        \"lon\": \"22.9593650735955630\"\n    },\n    {\n        \"device_id\": \"55\",\n        \"device_Name\": \"iTravel-55-K. Karamanli\",\n        \"lat\": \"40.5972930778242540\",\n        \"lon\": \"22.9646899290423790\"\n    },\n    {\n        \"device_id\": \"56\",\n        \"device_Name\": \"iTravel-56-EthnikoStadioSerron\",\n        \"lat\": \"41.0872092965976070\",\n        \"lon\": \"23.5270014662704630\"\n    },\n    {\n        \"device_id\": \"57\",\n        \"device_Name\": \"iTravel-57-LeofMerarchiasKilkis\",\n        \"lat\": \"41.0823389673631850\",\n        \"lon\": \"23.5426313405275780\"\n    },\n    {\n        \"device_id\": \"58\",\n        \"device_Name\": \"iTravel-58-PlatiaEmporiou\",\n        \"lat\": \"41.0900450761200490\",\n        \"lon\": \"23.5526652889375330\"\n    },\n    {\n        \"device_id\": \"59\",\n        \"device_Name\": \"iTravel-59-MegalouAlexandrouAgiasSofias\",\n        \"lat\": \"41.0922769824143900\",\n        \"lon\": \"23.5584866852674390\"\n    },\n    {\n        \"device_id\": \"60\",\n        \"device_Name\": \"iTravel-60-EOKavalasXanthisThsaou\",\n        \"lat\": \"40.9442489999999990\",\n        \"lon\": \"24.4271239999999990\"\n    },\n    {\n        \"device_id\": \"61\",\n        \"device_Name\": \"iTravel-61-PlatiaNikotsara\",\n        \"lat\": \"40.9371569999999990\",\n        \"lon\": \"24.4130840000000010\"\n    },\n    {\n        \"device_id\": \"62\",\n        \"device_Name\": \"iTravel-62-OmoniasGallikisDimokratias\",\n        \"lat\": \"40.9370400000000030\",\n        \"lon\": \"24.4158700000000020\"\n    },\n    {\n        \"device_id\": \"63\",\n        \"device_Name\": \"iTravel-63-KavalaPort\",\n        \"lat\": \"40.9345417447539430\",\n        \"lon\": \"24.4124746294651230\"\n    },\n    {\n        \"device_id\": \"64\",\n        \"device_Name\": \"ITravel-64-PanagiotiKanelopoulou\",\n        \"lat\": \"38.2726270000000000\",\n        \"lon\": \"21.7582939999999990\"\n    },\n    {\n        \"device_id\": \"65\",\n        \"device_Name\": \"ITravel-65-KalavritianouOlokaytomatos\",\n        \"lat\": \"38.2345589999999970\",\n        \"lon\": \"21.7464640000000000\"\n    },\n    {\n        \"device_id\": \"66\",\n        \"device_Name\": \"ITravel-66-NeoLimani\",\n        \"lat\": \"38.2319730378439500\",\n        \"lon\": \"21.7246659447746420\"\n    },\n    {\n        \"device_id\": \"67\",\n        \"device_Name\": \"ITravel-67-Papaflessa\",\n        \"lat\": \"38.2491701064082650\",\n        \"lon\": \"21.7349467668648230\"\n    },\n    {\n        \"device_id\": \"68\",\n        \"device_Name\": \"ITravel-68-PlateiaNikis\",\n        \"lat\": \"38.2567120000000000\",\n        \"lon\": \"21.7433260000000000\"\n    },\n    {\n        \"device_id\": \"69\",\n        \"device_Name\": \"ITravel-69-MarinaPatras\",\n        \"lat\": \"38.2411379999999990\",\n        \"lon\": \"21.7265680000000000\"\n    },\n    {\n        \"device_id\": \"70\",\n        \"device_Name\": \"ITravel-70-TrionSummaxon\",\n        \"lat\": \"38.2601769999999990\",\n        \"lon\": \"21.7386240000000020\"\n    },\n    {\n        \"device_id\": \"71\",\n        \"device_Name\": \"ITravel-71-PlateiaBasileosGeorgiou\",\n        \"lat\": \"38.2462437489333450\",\n        \"lon\": \"21.7350756491432550\"\n    },\n    {\n        \"device_id\": \"72\",\n        \"device_Name\": \"Thess1\",\n        \"lat\": \"40.6015794478607500\",\n        \"lon\": \"22.9697104543447490\"\n    },\n    {\n        \"device_id\": \"73\",\n        \"device_Name\": \"Thess2\",\n        \"lat\": \"40.5984121431745280\",\n        \"lon\": \"22.9505199193954470\"\n    },\n    {\n        \"device_id\": \"74\",\n        \"device_Name\": \"Thess3\",\n        \"lat\": \"40.6234628927045950\",\n        \"lon\": \"22.9621016979217530\"\n    },\n    {\n        \"device_id\": \"75\",\n        \"device_Name\": \"Thess4\",\n        \"lat\": \"40.6357354052651800\",\n        \"lon\": \"22.9443924129009250\"\n    },\n    {\n        \"device_id\": \"76\",\n        \"device_Name\": \"iTravel-76-Galatista\",\n        \"lat\": \"40.4664587348245280\",\n        \"lon\": \"23.2350982725620270\"\n    },\n    {\n        \"device_id\": \"77\",\n        \"device_Name\": \"iTravel-77-Nikiti\",\n        \"lat\": \"40.2227188711460640\",\n        \"lon\": \"23.6686907708644870\"\n    },\n    {\n        \"device_id\": \"78\",\n        \"device_Name\": \"iTravel-78-Afitos\",\n        \"lat\": \"40.1010605533676030\",\n        \"lon\": \"23.4310349822044370\"\n    },\n    {\n        \"device_id\": \"79\",\n        \"device_Name\": \"iTravel-79-Flogita\",\n        \"lat\": \"40.2633862034169210\",\n        \"lon\": \"23.2510399818420410\"\n    },\n    {\n        \"device_id\": \"80\",\n        \"device_Name\": \"iTravel-80-Lakoma\",\n        \"lat\": \"40.3877049463578710\",\n        \"lon\": \"23.0370613932609560\"\n    },\n    {\n        \"device_id\": \"93\",\n        \"device_Name\": \"iTravel_Malgara\",\n        \"lat\": \"40.6053700000000010\",\n        \"lon\": \"22.7166199999999990\"\n    }\n];\n\nexport default savedStations;\n","const haversine_distance = (mk1, mk2) => {\n  var R = 3958.8; // Radius of the Earth in miles\n  var rlat1 = parseFloat(mk1['lat']) * (Math.PI/180); // Convert degrees to radians\n  var rlat2 = parseFloat(mk2['lat']) * (Math.PI/180); // Convert degrees to radians\n  var difflat = rlat2-rlat1; // Radian difference (latitudes)\n  var difflon = (parseFloat(mk2['lon'])-parseFloat(mk1['lon'])) * (Math.PI/180); // Radian difference (longitudes)\n\n  var d = 2 * R * Math.asin(Math.sqrt(Math.sin(difflat/2)*Math.sin(difflat/2)+Math.cos(rlat1)*Math.cos(rlat2)*Math.sin(difflon/2)*Math.sin(difflon/2)));\n  return d;\n}\n\nexport default haversine_distance;\n","const changeStationName = (stations) => {\n  const newStations = stations.map(station => {\n    const oldName = station['device_Name'];\n    const newName = oldName.replace(/[i,I]Travel-\\d*-/, '').replace('iTravel_', '');\n    return {\n      ...station,\n      'device_Name': newName\n    }\n  })\n  return newStations;\n}\n\nexport default changeStationName;\n","const filterNotRaining = (stations) => {\n  const stationsNotRaining = stations.filter(station => {\n    const weatherID = station['weather']['weather']['id'];\n    if (weatherID < 800) {\n      return false;\n    }\n    return true;\n  })\n  return stationsNotRaining;\n};\n\nexport default filterNotRaining;\n","import haversine_distance from './haversine_distance';\n\nconst sortStations = (stations, location) => {\n  const sortedStations = [...stations].sort((st1, st2) => {\n    const pos1 = {\n      lat: st1['station']['lat'],\n      lon: st1['station']['lon']\n    }\n    const pos2 = {\n      lat: st2['station']['lat'],\n      lon: st2['station']['lon']\n    }\n    const dist1 = haversine_distance(location, pos1);\n    const dist2 = haversine_distance(location, pos2);\n    if (dist1 < dist2) {\n      return -1;\n    }\n    else if (dist1 > dist2) {\n      return 1;\n    }\n    return 0;\n  })\n  return sortedStations;\n}\n\nexport default sortStations;\n","const getStationsFromDeviceIds = (stations, device_ids) => {\n  const AccessibleStations = [];\n  for (const station of stations) {\n    const st = station['station'];\n    const id = st['device_id'];\n    if (device_ids.includes(id)) {\n      AccessibleStations.push({\n        'device_id': id,\n        'device_Name': st['device_Name']\n      });\n    }\n  }\n  return AccessibleStations;\n}\n\nexport default getStationsFromDeviceIds;\n","const sortStationsByName = (stations) => {\n  const sortedStations = [...stations].sort((st1, st2) => {\n    const name1 = st1['station']['device_Name'];\n    const name2 = st2['station']['device_Name'];\n    if (name1 < name2) {\n      return -1;\n    }\n    else if (name2 < name1) {\n      return 1;\n    }\n    else {\n      return 0;\n    }\n  })\n  return sortedStations;\n}\n\nexport default sortStationsByName;\n","const getImageName = (weatherID) => {\n  if (weatherID >= 200 && weatherID < 300) { //thunderstorm\n    return '11d';\n  }\n  if (weatherID >= 300 && weatherID < 400) { //drizzle\n    return '09d';\n  }\n  if (weatherID >= 500 && weatherID <= 503) { //rain\n    return '10d';\n  }\n  if (weatherID === 511) {\n    return '13d';\n  }\n  if (weatherID >= 520 && weatherID <= 531) {\n    return '09d';\n  }\n  if (weatherID >= 600 && weatherID < 700) { //snow\n    return '13d';\n  }\n  if (weatherID >= 700 && weatherID < 800) { //atmoshere\n    return '50d';\n  }\n  if (weatherID === 800) { //clear\n    return '01d';\n  }\n  if (weatherID === 801) { //few clouds\n    return '02d';\n  }\n  if (weatherID === 802) { //scattered clouds\n    return '03d';\n  }\n  if (weatherID === 803) { //broken clouds\n    return '04d';\n  }\n  if (weatherID === 804) { //overcast clouds\n    return '04d';\n  }\n  console.log('weather id does not match any available icon...', weatherID);\n  return '01d'; //we just return clear sky icon.\n}\n\nexport default getImageName;\n","import React from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Spinner from 'react-bootstrap/Spinner';\n\nimport {\n  filterNotRaining,\n  sortStations,\n  getStationsFromDeviceIds\n } from '../helpFunctions';\n\nclass AccessibleStations extends React.Component {\n  constructor(props) {\n    super(props);\n    const stations = filterNotRaining(this.props.stations);\n    const location = this.props.location;\n    this.state = {\n      stations: stations,\n      sortedStations: sortStations(stations, location),\n      accessibleStations: [],\n      id: '',\n      loading: false,\n      location: location,\n      filter: \"\"\n    }\n    this.handleClickFilterStations = this.handleClickFilterStations.bind(this);\n    this.handleClickViewStations = this.handleClickViewStations.bind(this);\n  }\n\n  handleClickFilterStations() {\n    if (this.state.location === {}) {\n      alert(\"You should allow access to location\");\n    }\n    this.setState({\n      filter: (this.state.filter === \"\") ? \"sortedStations\" : \"\"\n    })\n  }\n\n  async handleClickViewStations(id) {\n    this.setState({\n      id,\n      loading: true\n    });\n    try {\n      const traj_ids_json = await fetch(`http://147.102.19.45:8080/services/getItravelIdTrajectories/${id}`);\n      const traj_ids = await traj_ids_json.json();\n      console.log(\"trajectory ids\", traj_ids);\n      const onlyTraj_ids = traj_ids.map(traj_id => traj_id[\"trajectory_id\"])\n\n      const itravel_ids_json = await Promise.all(onlyTraj_ids.map(traj_id => (\n        //fetch(`http://147.102.19.45:8080/services/getTrajectoryIdTrajectories/${traj_id}`)\n        fetch(`http://147.102.16.156:8080/services/getTrajectoryIdTrajectories/${traj_id}`)\n      )))\n\n      const itravel_ids = await Promise.all(itravel_ids_json.map(id => id.json()));\n      const device_ids = itravel_ids.flatMap(itravel_ids_arr => (\n        itravel_ids_arr.map(id => id['itravel_id'])\n      ))\n      console.log('device_ids', device_ids);\n      const accessibleStations = getStationsFromDeviceIds(this.state.stations, device_ids);\n      console.log('accessibleStations', accessibleStations);\n      this.setState({\n        accessibleStations,\n        loading: false,\n        id\n      });\n    }\n    catch(err) {\n      this.setState({\n        id: '',\n        loading: false\n      })\n      console.log(err);\n    }\n  }\n\n  render() {\n    const stations = (this.state.filter === \"\") ? this.state.stations : this.state.sortedStations;\n    return (\n      <div>\n        <p> <b>Sort</b> stations by distance from my location: </p>\n        <Button variant=\"outline-primary\" onClick={this.handleClickFilterStations}>\n          Sort\n        </Button>\n        <Button variant=\"outline-primary\" onClick={this.props.handleClickBack}>\n          Back\n        </Button>\n        <br/>\n        <p> Press <b>view stations</b> to view the accessible stations from each station. </p>\n        <h3> Stations without rain: </h3>\n        <ul className='stationList'>\n        {stations.map(station => {\n          const st = station['station'];\n          const id = st['device_id'];\n          if (id !== this.state.id) {\n            return (\n              <li className=\"station-li\" key={st['device_id']}>\n                <p className='stationName'> {st['device_Name']} </p>\n                <Button variant=\"outline-primary\" onClick={() => this.handleClickViewStations(id)}>\n                  View stations\n                </Button>\n              </li>\n            );\n          }\n          else if (this.state.loading === false){\n            return (\n              <li key={st['device_id']}>\n                <p> Accessible stations from <b>{st['device_Name']}</b>: </p>\n                <ul>\n                  {this.state.accessibleStations.map(st => (\n                    <li key={st['device_id']}>\n                      <p className='stationName2'> {st['device_Name']} </p>\n                    </li>\n                  ))}\n                </ul>\n              </li>\n            )\n          }\n          else {\n            return (\n              <li className=\"station-li\" key={st['device_id']}>\n                <p className='stationName'> {st['device_Name']} </p>\n\n                <Spinner animation=\"border\" />\n              </li>\n            );\n          }\n          })}\n          </ul>\n      </div>\n    )\n  }\n}\n\nexport default AccessibleStations\n","import React from 'react';\nimport Button from 'react-bootstrap/Button';\nimport { getImageName, sortStationsByName } from '../helpFunctions';\n\nconst Stations = ({stations, handleClickBack}) => {\n  const sortedStations = sortStationsByName(stations);\n  const viewStations = sortedStations.map(station => {\n    const name = station['station']['device_Name'];\n    const id = station['station']['device_id'];\n    const weather = station['weather'];\n    const weatherID = weather['weather'][0]['id'];\n    const weatherDescription = weather['weather'][0]['description'];\n    const temperature = weather['main']['temp'];\n    const img = 'weather-icons/'+ getImageName(weatherID) + '.png';\n    return (\n    <li key={id}>\n      <div className=\"station\">\n        <h3> {name} </h3>\n        <p> <b>Description</b>: {weatherDescription} </p>\n        <img alt='' src={img} width=\"100\" height=\"100\"/>\n        <p> <b>Temperature</b>: {temperature} </p>\n      </div>\n    </li>\n  )})\n  \n  return (\n    <div>\n      <h2> Stations weather conditions </h2>\n      <Button variant='outline-primary' onClick={handleClickBack}>\n        Back\n      </Button>\n      <ul>{viewStations}</ul>\n    </div>\n  )\n}\n\nexport default Stations;\n","import React from 'react';\nimport { Home } from './Home';\nimport { AccessibleStations } from './AccessibleStations';\nimport { Stations } from './Stations';\n\nimport { savedStations, changeStationName } from './helpFunctions';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      stations: [],\n      location: {},\n      mode: 'Home',\n      error: false\n    }\n    this.handleClickAccessibleStations = this.handleClickAccessibleStations.bind(this);\n    this.handleClickStation = this.handleClickStation.bind(this);\n    this.handleClickBack = this.handleClickBack.bind(this);\n  }\n\n  async componentDidMount() {\n    navigator.geolocation.getCurrentPosition(res =>\n      this.setState({\n        location: {\n          lat: res.coords.latitude,\n          lon: res.coords.longitude\n        }\n      })\n    )\n    let stations = [];\n    try {\n      const stationsJSON = await fetch('http://feed.opendata.imet.gr:23577/itravel/devices.json');\n      const stations_ = await stationsJSON.json();\n      stations = changeStationName(stations_);\n    }\n    catch(err) {\n      console.log('Fetching stations failed. Use saved stations.')\n      stations = savedStations;\n    }\n\n    try {\n      const weatherJSON = await Promise.all(stations.map(station => {\n        const lat = station['lat'];\n        const lon = station['lon'];\n        return fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&units=metric&appid=94f3c8e684ecb557e3091f514c7fe252`)}\n      ));\n\n      const weather = await Promise.all(weatherJSON.map(res => res.json()))\n      const stationsWithWeather = weather.map((w, i) => ({\n        station: stations[i],\n        weather: w\n      }))\n      this.setState({\n        stations: stationsWithWeather\n      })\n    }\n    catch(err) {\n      console.log('Fetching weather data failed...')\n      this.setState({ error: true })\n    }\n  }\n\n  handleClickAccessibleStations() {\n    this.setState({ mode:'AccessibleStations' })\n  }\n\n  handleClickStation() {\n    this.setState({ mode: 'Station' })\n  }\n\n  handleClickBack() {\n    this.setState({ mode: 'Home' })\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <div className=\"header\">\n          <h1> Appathon </h1>\n          <p> NTUA ECE </p>\n        </div>\n        { this.state.mode === 'AccessibleStations'\n          ?\n          <AccessibleStations\n            location={this.state.location}\n            stations={this.state.stations}\n            handleClickBack={this.handleClickBack}\n          />\n          :\n          this.state.mode === 'Station'\n          ?\n          <Stations\n            stations={this.state.stations}\n            handleClickBack={this.handleClickBack}\n          />\n          :\n          <Home\n            handleClickStation={this.handleClickStation}\n            handleClickAccessibleStations={this.handleClickAccessibleStations}\n            error={this.state.error}\n          />\n        }\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\n\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}